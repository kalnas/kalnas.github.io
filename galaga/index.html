<!DOCTYPE html>
<html>

<head>
  <title>Space Invaders</title>
</head>

<body>
  <canvas width="1000" height="600" style="border: solid black;" id="game_canvas"></canvas>
  <div><b>[n]ew game<br>[space] to pause/resume<br>&lArr; / &rArr; to move<br>&uArr; to fire</b></div>
  <script src="./player_tracker.js"></script>
  <script src="./missile_tracker.js"></script>
  <script src="./background.js"></script>
  <script src="./world.js"></script>
  <script>
    const ROOT_PATH = "./";
    const HUMAN_SPEED = 0.5; // pixels per second
    const OPPONENT_SPEED = 0.3;
    const MISSILE_SPEED = 0.4;
    const SPACE_SPEED = 0.1;

    let getParams = () => {
      const urlParams = new URLSearchParams(window.location.search);
      return {
        humanImgSrc: ROOT_PATH + (urlParams.get('player') || 'smiley1.png'),
        opponent1ImgSrc: ROOT_PATH + (urlParams.get('opponent1') || 'smiley1.png'),
        opponent2ImgSrc: ROOT_PATH + (urlParams.get('opponent2') || 'smiley1.png'),
        captionUp: urlParams.get('captionup'),
        captionDown: urlParams.get('captiondown'),
      };
    };
    let world = new World(document.getElementById('game_canvas'), getParams);
    window.onkeydown = world.keydown.bind(world);
    window.onkeyup = world.keyup.bind(world);
  </script>
</body>

</html>